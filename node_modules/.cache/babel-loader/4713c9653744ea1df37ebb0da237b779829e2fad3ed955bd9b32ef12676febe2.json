{"ast":null,"code":"import Tabs from \"@/components/Tabs.vue\";\nimport Search from \"@/components/Search.vue\";\nimport FilterItem from \"@/components/FilterItem.vue\";\nimport FilterGroup from \"@/components/FilterGroup.vue\";\nexport default {\n  name: \"Patient\",\n  data() {\n    const api = process.env.VUE_APP_API;\n    return {\n      api,\n      items: [],\n      toSearch: \"\",\n      generos: [{\n        id: \"Masculino\",\n        name: \"Masculino\"\n      }, {\n        id: \"Femenino\",\n        name: \"Femenino\"\n      }],\n      toFilter: \"\",\n      payload: {\n        nombre: \"\",\n        edad: null,\n        genero: null,\n        direccion: null,\n        telefono: null\n      }\n    };\n  },\n  methods: {\n    onFilterFx(field, event) {\n      if (event === \"\") {\n        this.toFilter = \"\";\n      } else {\n        this.toFilter = \"?\" + field + \"=\" + event;\n      }\n      this.getItems();\n    },\n    getItems() {\n      this.axios({\n        method: \"get\",\n        url: this.api + \"/pacientes\" + this.toSearch + this.toFilter\n      }).then(response => {\n        this.items = response.data;\n        // console.log(this.items);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n    },\n    savePatient() {\n      this.axios({\n        method: \"post\",\n        url: this.api + \"/pacientes\",\n        data: this.payload\n      }).then(response => {\n        this.payload = {\n          nombre: \"\",\n          edad: null,\n          genero: null,\n          direccion: null,\n          telefono: null\n        };\n        setTimeout(function () {\n          var elems = document.querySelectorAll(\"select\");\n          var select = M.FormSelect.init(elems);\n        });\n        this.getItems();\n\n        // console.log(response);\n      });\n    },\n\n    searchFx(event) {\n      if (event === \"\") {\n        this.toSearch = \"\";\n      } else {\n        this.toSearch = \"?q=\" + event;\n      }\n      this.getItems();\n      // console.log(\"search\", event);\n    },\n\n    eliminarItem(id) {\n      if (confirm(\"Esta seguro que desea eliminar.\")) {\n        this.axios({\n          method: \"delete\",\n          url: this.api + \"/pacientes/\" + id\n        }).then(response => {\n          this.getItems();\n        });\n      }\n    }\n  },\n  mounted() {\n    this.getItems();\n  },\n  components: {\n    Tabs,\n    Search,\n    FilterItem,\n    FilterGroup\n  },\n  created() {\n    setTimeout(() => {\n      var elems = document.querySelectorAll(\"select\");\n      var select = M.FormSelect.init(elems);\n    });\n  }\n};","map":{"version":3,"names":["Tabs","Search","FilterItem","FilterGroup","name","data","api","process","env","VUE_APP_API","items","toSearch","generos","id","toFilter","payload","nombre","edad","genero","direccion","telefono","methods","onFilterFx","field","event","getItems","axios","method","url","then","response","catch","error","console","log","finally","savePatient","setTimeout","elems","document","querySelectorAll","select","M","FormSelect","init","searchFx","eliminarItem","confirm","mounted","components","created"],"sources":["C:\\Users\\fabian\\Downloads\\Compressed\\Final_VUE_USIP-master\\Final_VUE_USIP-master\\src\\views\\PatientView.vue"],"sourcesContent":["<template>\n  <div>\n    <h5>Pacientes</h5>\n    <tabs>\n      <template v-slot:lista>\n        <search placeholder=\"Busqueda General\" @searchtext=\"searchFx($event)\"></search>\n        <filter-group>\n          <filter-item :items=\"generos\" label=\"Filtro de genero:\" @onfilter=\"onFilterFx('genero', $event)\"></filter-item>\n        </filter-group>\n        <table class=\"highlight responsive-table card\">\n          <thead>\n            <tr>\n              <th>Nombre Completo</th>\n              <th>Edad</th>\n              <th>Genero</th>\n              <th>Direccion</th>\n              <th>Telefono</th>\n              <th></th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"item in items\">\n              <td>{{ item.nombre }}</td>\n              <td>{{ item.edad }}</td>\n              <td>{{ item.genero }}</td>\n              <td>{{ item.direccion }}</td>\n              <td>{{ item.telefono }}</td>\n              <td>\n                <router-link :to=\"'/patient/' + item.id\">\n                  <i class=\"material-icons\">create</i>\n                </router-link>\n                <i class=\"material-icons\" style=\"color: red\" @click=\"eliminarItem(item.id)\">delete_forever</i>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </template>\n      <template v-slot:nuevo>\n        <div class=\"row card p-2\" style=\"max-width: 650px\">\n          <h6>Formulario para paciente nuevo</h6>\n          <form class=\"col s12\" @submit.prevent=\"savePatient()\">\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <input id=\"nombre\" type=\"text\" class=\"validate\" v-model=\"payload.nombre\"/>\n                <label for=\"nombre\">Nombre Completo</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <input id=\"edad\" type=\"number\" class=\"validate\" v-model=\"payload.edad\"/>\n                <label for=\"edad\">Edad</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <select v-model=\"payload.genero\">\n                  <option value=\"\" disabled selected>\n                    Elija un genero\n                  </option>\n                  <option value=\"Masculino\">\n                    Masculino\n                  </option>\n                  <option value=\"Femenino\">\n                    Femenino\n                  </option>\n                </select>\n                <label>Genero</label>\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input id=\"direccion\" type=\"text\" class=\"validate\" v-model=\"payload.direccion\"/>\n                  <label for=\"direccion\">Direccion</label>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input id=\"telefono\" type=\"number\" class=\"validate\" v-model=\"payload.telefono\"/>\n                  <label for=\"telefono\">Telefono</label>\n                </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <button class=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n                  Submit\n                  <i class=\"material-icons right\">send</i>\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </template>\n    </tabs>\n  </div>\n</template>\n\n<script>\nimport Tabs from \"@/components/Tabs.vue\";\nimport Search from \"@/components/Search.vue\";\nimport FilterItem from \"@/components/FilterItem.vue\";\nimport FilterGroup from \"@/components/FilterGroup.vue\";\nexport default {\n  name: \"Patient\",\n  data() {\n    const api = process.env.VUE_APP_API;\n    return {\n      api,\n      items: [],\n      toSearch: \"\",\n      generos:[{id:\"Masculino\",name:\"Masculino\"},{id:\"Femenino\",name:\"Femenino\"}],\n      toFilter: \"\",\n      payload: {\n        nombre: \"\",\n        edad: null,\n        genero: null,\n        direccion: null,\n        telefono: null,\n      },\n    };\n  },\n  methods: {\n    onFilterFx(field, event) {\n      if (event === \"\") {\n        this.toFilter = \"\";\n      } else {\n        this.toFilter = \"?\" + field + \"=\" + event;\n      }\n      this.getItems();\n    },\n    getItems() {\n      this.axios({\n        method: \"get\",\n        url:\n          this.api +\n          \"/pacientes\" +\n          this.toSearch +\n          this.toFilter,\n      })\n        .then((response) => {\n          this.items = response.data;\n          // console.log(this.items);\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {});\n    },\n\n    savePatient() {\n      this.axios({\n        method: \"post\",\n        url: this.api + \"/pacientes\",\n        data: this.payload,\n      }).then((response) => {\n        this.payload = {\n            nombre: \"\",\n            edad: null,\n            genero: null,\n            direccion: null,\n            telefono: null,\n        };\n        setTimeout(function () {\n          var elems = document.querySelectorAll(\"select\");\n          var select = M.FormSelect.init(elems);\n        });\n        this.getItems();\n\n        // console.log(response);\n      });\n    },\n    searchFx(event) {\n      if (event === \"\") {\n        this.toSearch = \"\";\n      } else {\n        this.toSearch = \"?q=\" + event;\n      }\n      this.getItems();\n      // console.log(\"search\", event);\n    },\n    eliminarItem(id) {\n      if (confirm(\"Esta seguro que desea eliminar.\")) {\n        this.axios({\n          method: \"delete\",\n          url: this.api + \"/pacientes/\" + id,\n        }).then((response) => {\n          this.getItems();\n        });\n      }\n    },\n  },\n  mounted() {\n    this.getItems();\n  },\n  components: {\n    Tabs,\n    Search,\n    FilterItem,\n    FilterGroup,\n  },\n  created() {\n    setTimeout(() => {\n      var elems = document.querySelectorAll(\"select\");\n      var select = M.FormSelect.init(elems);\n    });\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}