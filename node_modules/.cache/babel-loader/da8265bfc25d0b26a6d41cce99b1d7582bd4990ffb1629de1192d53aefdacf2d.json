{"ast":null,"code":"import Tabs from \"@/components/Tabs.vue\";\nimport Search from \"@/components/Search.vue\";\nimport FilterGroup from \"@/components/FilterGroup.vue\";\nimport FilterItem from \"@/components/FilterItem.vue\";\nexport default {\n  name: \"ConsultationView\",\n  data() {\n    const api = process.env.VUE_APP_API;\n    return {\n      api,\n      items: [],\n      pacientes: [],\n      toSearch: \"\",\n      toFilter: \"\",\n      payload: {\n        fecha: null,\n        motivo: null,\n        diagnostico: null,\n        tratamiento: null,\n        pacientesId: 0\n      }\n    };\n  },\n  methods: {\n    getItems() {\n      this.axios({\n        method: \"get\",\n        url: this.api + \"/consultas?_expand=pacientes\" + this.toSearch + this.toFilter\n      }).then(response => {\n        this.items = response.data;\n        //   console.log(response);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n    },\n    getPacientes() {\n      this.axios({\n        method: \"get\",\n        url: this.api + \"/pacientes\"\n      }).then(response => {\n        this.pacientes = response.data;\n        setTimeout(function () {\n          var elems = document.querySelectorAll(\"select\");\n          var select = M.FormSelect.init(elems);\n        });\n        // console.log(response);\n      });\n    },\n\n    saveConsultation() {\n      this.axios({\n        method: \"post\",\n        url: this.api + \"/consultas\",\n        data: this.payload\n      }).then(response => {\n        this.payload = {\n          fecha: null,\n          motivo: null,\n          diagnostico: null,\n          tratamiento: null,\n          pacientesId: 0\n        };\n        setTimeout(function () {\n          var elems = document.querySelectorAll(\"select\");\n          var select = M.FormSelect.init(elems);\n        });\n        this.getItems();\n\n        // console.log(response);\n      });\n    },\n\n    eliminarItem(id) {\n      if (confirm(\"Esta seguro de eliminar?\")) {\n        this.axios({\n          method: \"delete\",\n          url: this.api + \"/consultas/\" + id\n        }).then(response => {\n          this.getItems();\n          //   console.log(response);\n        });\n      }\n    }\n  },\n\n  mounted() {\n    this.getItems();\n    this.getPacientes();\n  },\n  components: {\n    Tabs,\n    Search,\n    FilterGroup,\n    FilterItem\n  },\n  created() {\n    setTimeout(() => {\n      var elems = document.querySelectorAll(\"select\");\n      var select = M.FormSelect.init(elems);\n    });\n  }\n};","map":{"version":3,"names":["Tabs","Search","FilterGroup","FilterItem","name","data","api","process","env","VUE_APP_API","items","pacientes","toSearch","toFilter","payload","fecha","motivo","diagnostico","tratamiento","pacientesId","methods","getItems","axios","method","url","then","response","catch","error","console","log","finally","getPacientes","setTimeout","elems","document","querySelectorAll","select","M","FormSelect","init","saveConsultation","eliminarItem","id","confirm","mounted","components","created"],"sources":["C:\\Users\\fabian\\Downloads\\Compressed\\Final_VUE_USIP-master\\Final_VUE_USIP-master\\src\\views\\ConsultationView.vue"],"sourcesContent":["<!-- <template>\n  <div>\n    <h5>Consultas</h5>\n    <tabs>\n      <template v-slot:lista>\n        <table class=\"highlight responsive-table\">\n          <thead>\n            <tr>\n              <th>Paciente</th>\n              <th>Fecha</th>\n              <th>Motivo</th>\n              <th>Diagnostico</th>\n              <th>Tratamiento</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"item in items\">\n              <td>{{ item.pacientes.nombre }}</td>\n              <td>{{ item.fecha }}</td>\n              <td>{{ item.motivo }}</td>\n              <td>{{ item.diagnostico }}</td>\n              <td>{{ item.tratamiento }}</td>\n              <td>\n                <router-link :to=\"'/consultation/' + item.id\"><i class=\"material-icons\">create</i></router-link>\n                <i class=\"material-icons\" style=\"color: red\" @click=\"eliminarItem(item.id)\">delete_forever</i>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </template>\n      <template v-slot:nuevo>\n        <div class=\"row card p-2\" style=\"max-width: 650px\">\n          <h6>Consultas realizadas:</h6>\n          <form class=\"col s12\" @submit.prevent=\"saveConsultation()\">\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                    <select v-model=\"payload.pacientesId\" >\n                        <option value=\"\" disabled selected>Elija un paciente</option>\n                        <option v-for=\"(value, key) in pacientes\" :key=\"key\" :value=\"value.id\">{{ value.nombre }}\n                        </option>\n                    </select>\n                    <label>Pacientes</label>\n                </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <input id=\"fecha\" type=\"date\" class=\"validate\" v-model=\"payload.fecha\"/>\n                <label for=\"fecha\">Fecha</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <input id=\"motivo\" type=\"text\" class=\"validate\" v-model=\"payload.motivo\"/>\n                <label for=\"motivo\">Motivo</label>\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input id=\"diagnostico\" type=\"text\" class=\"validate\" v-model=\"payload.diagnostico\"/>\n                  <label for=\"diagnostico\">Diagnostico</label>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input id=\"tratamiento\" type=\"text\" class=\"validate\" v-model=\"payload.tratamiento\"/>\n                  <label for=\"tratamiento\">Tratamiento</label>\n                </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <button class=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n                  Submit\n                  <i class=\"material-icons right\">send</i>\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </template>\n    </tabs>\n  </div>\n</template> -->\n<template>\n  <div class=\"container grey lighten-5\">\n    <h5 class=\"blue-grey-text\">Consultas</h5>\n    <tabs>\n      <template v-slot:lista>\n        <table class=\"highlight responsive-table\">\n          <thead>\n            <tr>\n              <th>Paciente</th>\n              <th>Fecha</th>\n              <th>Motivo</th>\n              <th>Diagnostico</th>\n              <th>Tratamiento</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"item in items\">\n              <td>{{ item.pacientes.nombre }}</td>\n              <td>{{ item.fecha }}</td>\n              <td>{{ item.motivo }}</td>\n              <td>{{ item.diagnostico }}</td>\n              <td>{{ item.tratamiento }}</td>\n              <td>\n                <router-link :to=\"'/consultation/' + item.id\"><i class=\"material-icons\">create</i></router-link>\n                <i class=\"material-icons\" style=\"color: red\" @click=\"eliminarItem(item.id)\">delete_forever</i>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </template>\n      <template v-slot:nuevo>\n        <div class=\"row card p-2 grey lighten-4\" style=\"max-width: 650px\">\n          <h6 class=\"blue-grey-text\">Consultas realizadas:</h6>\n          <form class=\"col s12\" @submit.prevent=\"saveConsultation()\">\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                    <select v-model=\"payload.pacientesId\" >\n                        <option value=\"\" disabled selected>Elija un paciente</option>\n                        <option v-for=\"(value, key) in pacientes\" :key=\"key\" :value=\"value.id\">{{ value.nombre }}</option>\n                    </select>\n                    <label>Pacientes</label>\n                </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <input id=\"fecha\" type=\"date\" class=\"validate\" v-model=\"payload.fecha\"/>\n                <label for=\"fecha\">Fecha</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <input id=\"motivo\" type=\"text\" class=\"validate\" v-model=\"payload.motivo\"/>\n                <label for=\"motivo\">Motivo</label>\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input id=\"diagnostico\" type=\"text\" class=\"validate\" v-model=\"payload.diagnostico\"/>\n                  <label for=\"diagnostico\">Diagnostico</label>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input id=\"tratamiento\" type=\"text\" class=\"validate\" v-model=\"payload.tratamiento\"/>\n                  <label for=\"tratamiento\">Tratamiento</label>\n                </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <button class=\"btn waves-effect waves-light blue darken-1\" type=\"submit\" name=\"action\">\n                  Enviar\n                  <i class=\"material-icons right\">send</i>\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </template>\n    </tabs>\n  </div>\n</template>\n\n\n<script>\nimport Tabs from \"@/components/Tabs.vue\";\nimport Search from \"@/components/Search.vue\";\nimport FilterGroup from \"@/components/FilterGroup.vue\";\nimport FilterItem from \"@/components/FilterItem.vue\";\nexport default {\n  name: \"ConsultationView\",\n  data() {\n    const api = process.env.VUE_APP_API;\n    return {\n      api,\n      items: [],\n      pacientes: [],\n      toSearch: \"\",\n      toFilter: \"\",\n      payload: {\n        fecha: null,\n        motivo: null,\n        diagnostico: null,\n        tratamiento: null,\n        pacientesId: 0,\n      },\n    };\n  },\n  methods: {\n    getItems() {\n      this.axios({\n        method: \"get\",\n        url:\n          this.api +\n          \"/consultas?_expand=pacientes\" +\n          this.toSearch +\n          this.toFilter,\n      })\n        .then((response) => {\n          this.items = response.data;\n        //   console.log(response);\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {});\n    },\n    getPacientes() {\n      this.axios({\n        method: \"get\",\n        url: this.api + \"/pacientes\",\n      }).then((response) => {\n        this.pacientes = response.data;\n        setTimeout(function () {\n          var elems = document.querySelectorAll(\"select\");\n          var select = M.FormSelect.init(elems);\n        });\n        // console.log(response);\n      });\n    },\n    saveConsultation() {\n      this.axios({\n        method: \"post\",\n        url: this.api + \"/consultas\",\n        data: this.payload,\n      }).then((response) => {\n        this.payload = {\n            fecha: null,\n            motivo: null,\n            diagnostico: null,\n            tratamiento: null,\n            pacientesId: 0,\n        };\n        setTimeout(function () {\n          var elems = document.querySelectorAll(\"select\");\n          var select = M.FormSelect.init(elems);\n        });\n        this.getItems();\n\n        // console.log(response);\n      });\n    },\n    eliminarItem(id) {\n      if (confirm(\"Esta seguro de eliminar?\")) {\n        this.axios({\n          method: \"delete\",\n          url: this.api + \"/consultas/\" + id,\n        }).then((response) => {\n          this.getItems();\n        //   console.log(response);\n        });\n      }\n    },\n  },\n  mounted() {\n    this.getItems();\n    this.getPacientes();\n  },\n  components: {\n    Tabs,\n    Search,\n    FilterGroup,\n    FilterItem,\n  },\n  created() {\n    setTimeout(() => {\n      var elems = document.querySelectorAll(\"select\");\n      var select = M.FormSelect.init(elems);\n    });\n  },\n};\n</script>\n\n<style></style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}