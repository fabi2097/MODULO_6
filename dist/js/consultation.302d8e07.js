"use strict";(self["webpackChunkconsultorio"]=self["webpackChunkconsultorio"]||[]).push([[985],{4593:function(t,e,l){l.d(e,{Z:function(){return u}});var a=l(3396);const i=t=>((0,a.dD)("data-v-2ba0c409"),t=t(),(0,a.Cn)(),t),s={class:"filter-group card"},n=i((()=>(0,a._)("i",{class:"material-icons",style:{float:"left"}},"filter_list",-1)));function o(t,e,l,i,o,c){return(0,a.wg)(),(0,a.iD)("div",s,[n,(0,a.WI)(t.$slots,"default",{},void 0,!0)])}var c={name:"FilterApp",created(){}},r=l(89);const d=(0,r.Z)(c,[["render",o],["__scopeId","data-v-2ba0c409"]]);var u=d},2472:function(t,e,l){l.d(e,{Z:function(){return p}});var a=l(3396),i=l(7139);const s=t=>((0,a.dD)("data-v-56f424b6"),t=t(),(0,a.Cn)(),t),n={key:0,class:"filter-item input-field"},o=s((()=>(0,a._)("option",{value:""},"Ambos",-1))),c=["value"],r={key:1};function d(t,e,l,s,d,u){return(0,a.wg)(),(0,a.iD)("div",null,[l.items&&l.items.length>0?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("onfilter",e.target.value))},[o,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,((t,e)=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:t.id},(0,i.zw)(t.name),9,c)))),128))],32),(0,a._)("label",null,(0,i.zw)(l.label),1)])):((0,a.wg)(),(0,a.iD)("div",r,"No hay items"))])}var u={name:"FilterItem",props:["items","label"],emits:["onfilter"],created(){setTimeout((function(){var t=document.querySelectorAll("select");M.FormSelect.init(t)}))}},m=l(89);const v=(0,m.Z)(u,[["render",d],["__scopeId","data-v-56f424b6"]]);var p=v},1588:function(t,e,l){l.d(e,{Z:function(){return p}});var a=l(3396),i=l(7139);const s={class:"card",style:{padding:"7px"}},n=(0,a._)("i",{class:"material-icons",style:{float:"left"}},"search",-1),o={class:"row"},c={class:"input-field",style:{display:"inline-block"}},r={for:"search"};function d(t,e,l,d,u,m){return(0,a.wg)(),(0,a.iD)("div",s,[n,(0,a._)("div",o,[(0,a._)("div",c,[(0,a._)("input",{id:"search",type:"search",class:"validate",onSearch:e[0]||(e[0]=e=>t.$emit("searchtext",e.target.value))},null,32),(0,a._)("label",r,(0,i.zw)(l.placeholder),1)])])])}var u={name:"Search",props:{placeholder:String},emit:["searchtext"]},m=l(89);const v=(0,m.Z)(u,[["render",d]]);var p=v},2232:function(t,e,l){l.d(e,{Z:function(){return m}});var a=l(3396);const i={class:"row"},s=(0,a.uE)('<div class="col s12"><ul class="tabs"><li class="tab col s3"><a href="#listar">Listar</a></li><li class="tab col s3"><a href="#nuevo">Nuevo</a></li></ul></div>',1),n={id:"listar",class:"col s12"},o={id:"nuevo",class:"col s12"};function c(t,e,l,c,r,d){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",i,[s,(0,a._)("div",n,[(0,a.WI)(t.$slots,"lista")]),(0,a._)("div",o,[(0,a.WI)(t.$slots,"nuevo")])])])}var r={name:"Tabs",created(){setTimeout((()=>{var t=document.querySelectorAll(".tabs");M.Tabs.init(t)}))}},d=l(89);const u=(0,d.Z)(r,[["render",c]]);var m=u},9519:function(t,e,l){l.r(e),l.d(e,{default:function(){return H}});var a=l(3396),i=l(7139),s=l(9242);const n={class:"container grey lighten-5"},o=(0,a._)("h5",{class:"blue-grey-text"},"Consultas",-1),c={class:"highlight responsive-table"},r=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Paciente"),(0,a._)("th",null,"Fecha"),(0,a._)("th",null,"Motivo"),(0,a._)("th",null,"Diagnostico"),(0,a._)("th",null,"Tratamiento")])],-1),d=(0,a._)("i",{class:"material-icons"},"create",-1),u=["onClick"],m={class:"row card p-2 grey lighten-4",style:{"max-width":"650px"}},v=(0,a._)("h6",{class:"blue-grey-text"},"Consultas realizadas:",-1),p={class:"row"},h={class:"input-field col s12"},_=(0,a._)("option",{value:"",disabled:"",selected:""},"Elija un paciente",-1),f=["value"],g=(0,a._)("label",null,"Pacientes",-1),y={class:"row"},w={class:"input-field col s12"},b=(0,a._)("label",{for:"fecha"},"Fecha",-1),D={class:"row"},I={class:"input-field col s12"},S=(0,a._)("label",{for:"motivo"},"Motivo",-1),x={class:"row"},k={class:"input-field col s12"},Z=(0,a._)("label",{for:"diagnostico"},"Diagnostico",-1),C={class:"row"},F={class:"input-field col s12"},z=(0,a._)("label",{for:"tratamiento"},"Tratamiento",-1),T=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"input-field col s12"},[(0,a._)("button",{class:"btn waves-effect waves-light blue",type:"submit",name:"action"},[(0,a.Uk)(" Enviar "),(0,a._)("i",{class:"material-icons right"},"send")])])],-1);function A(t,e,l,M,A,U){const V=(0,a.up)("router-link"),q=(0,a.up)("tabs");return(0,a.wg)(),(0,a.iD)("div",n,[o,(0,a.Wm)(q,null,{lista:(0,a.w5)((()=>[(0,a._)("table",c,[r,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(A.items,(t=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",null,(0,i.zw)(t.pacientes.nombre),1),(0,a._)("td",null,(0,i.zw)(t.fecha),1),(0,a._)("td",null,(0,i.zw)(t.motivo),1),(0,a._)("td",null,(0,i.zw)(t.diagnostico),1),(0,a._)("td",null,(0,i.zw)(t.tratamiento),1),(0,a._)("td",null,[(0,a.Wm)(V,{to:"/consultation/"+t.id},{default:(0,a.w5)((()=>[d])),_:2},1032,["to"]),(0,a._)("i",{class:"material-icons",style:{color:"red"},onClick:e=>U.eliminarItem(t.id)},"delete_forever",8,u)])])))),256))])])])),nuevo:(0,a.w5)((()=>[(0,a._)("div",m,[v,(0,a._)("form",{class:"col s12",onSubmit:e[5]||(e[5]=(0,s.iM)((t=>U.saveConsultation()),["prevent"]))},[(0,a._)("div",p,[(0,a._)("div",h,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>A.payload.pacientesId=t)},[_,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(A.pacientes,((t,e)=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:t.id},(0,i.zw)(t.nombre),9,f)))),128))],512),[[s.bM,A.payload.pacientesId]]),g])]),(0,a._)("div",y,[(0,a._)("div",w,[(0,a.wy)((0,a._)("input",{id:"fecha",type:"date",class:"validate","onUpdate:modelValue":e[1]||(e[1]=t=>A.payload.fecha=t)},null,512),[[s.nr,A.payload.fecha]]),b])]),(0,a._)("div",D,[(0,a._)("div",I,[(0,a.wy)((0,a._)("input",{id:"motivo",type:"text",class:"validate","onUpdate:modelValue":e[2]||(e[2]=t=>A.payload.motivo=t)},null,512),[[s.nr,A.payload.motivo]]),S])]),(0,a._)("div",x,[(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{id:"diagnostico",type:"text",class:"validate","onUpdate:modelValue":e[3]||(e[3]=t=>A.payload.diagnostico=t)},null,512),[[s.nr,A.payload.diagnostico]]),Z])]),(0,a._)("div",C,[(0,a._)("div",F,[(0,a.wy)((0,a._)("input",{id:"tratamiento",type:"text",class:"validate","onUpdate:modelValue":e[4]||(e[4]=t=>A.payload.tratamiento=t)},null,512),[[s.nr,A.payload.tratamiento]]),z])]),T],32)])])),_:1})])}var U=l(2232),V=l(1588),q=l(4593),W=l(2472),$={name:"ConsultationView",data(){const t="http://localhost:3000";return{api:t,items:[],pacientes:[],toSearch:"",toFilter:"",payload:{fecha:null,motivo:null,diagnostico:null,tratamiento:null,pacientesId:0}}},methods:{getItems(){this.axios({method:"get",url:this.api+"/consultas?_expand=pacientes"+this.toSearch+this.toFilter}).then((t=>{this.items=t.data})).catch((t=>{console.log(t)})).finally((()=>{}))},getPacientes(){this.axios({method:"get",url:this.api+"/pacientes"}).then((t=>{this.pacientes=t.data,setTimeout((function(){var t=document.querySelectorAll("select");M.FormSelect.init(t)}))}))},saveConsultation(){this.axios({method:"post",url:this.api+"/consultas",data:this.payload}).then((t=>{this.payload={fecha:null,motivo:null,diagnostico:null,tratamiento:null,pacientesId:0},setTimeout((function(){var t=document.querySelectorAll("select");M.FormSelect.init(t)})),this.getItems()}))},eliminarItem(t){confirm("Esta seguro de eliminar?")&&this.axios({method:"delete",url:this.api+"/consultas/"+t}).then((t=>{this.getItems()}))}},mounted(){this.getItems(),this.getPacientes()},components:{Tabs:U.Z,Search:V.Z,FilterGroup:q.Z,FilterItem:W.Z},created(){setTimeout((()=>{var t=document.querySelectorAll("select");M.FormSelect.init(t)}))}},E=l(89);const P=(0,E.Z)($,[["render",A]]);var H=P}}]);
//# sourceMappingURL=consultation.302d8e07.js.map